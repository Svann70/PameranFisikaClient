@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Pixel Game Color Palette */
    --background: 230 25% 12%;
    --foreground: 60 100% 95%;

    --card: 230 20% 18%;
    --card-foreground: 60 100% 95%;

    --popover: 230 20% 15%;
    --popover-foreground: 60 100% 95%;

    --primary: 145 80% 50%;
    --primary-foreground: 230 25% 10%;

    --secondary: 200 90% 60%;
    --secondary-foreground: 230 25% 10%;

    --muted: 230 15% 25%;
    --muted-foreground: 230 10% 65%;

    --accent: 45 100% 60%;
    --accent-foreground: 230 25% 10%;

    --destructive: 0 70% 55%;
    --destructive-foreground: 60 100% 95%;

    --border: 230 20% 30%;
    --input: 230 20% 25%;
    --ring: 145 80% 50%;

    --radius: 0px;

    /* Custom game colors */
    --pixel-pink: 330 80% 65%;
    --pixel-cyan: 180 90% 55%;
    --pixel-orange: 25 95% 55%;
    --pixel-purple: 270 70% 60%;
    --pixel-yellow: 50 100% 60%;
    
    /* Gradients */
    --gradient-game: linear-gradient(135deg, hsl(230 25% 12%) 0%, hsl(250 30% 18%) 100%);
    --gradient-button: linear-gradient(180deg, hsl(145 80% 55%) 0%, hsl(145 80% 40%) 100%);
    --gradient-button-secondary: linear-gradient(180deg, hsl(200 90% 65%) 0%, hsl(200 90% 50%) 100%);
    
    /* Shadows - pixel style */
    --shadow-pixel: 4px 4px 0px hsl(230 25% 5%);
    --shadow-pixel-sm: 2px 2px 0px hsl(230 25% 5%);
    --shadow-pixel-lg: 6px 6px 0px hsl(230 25% 5%);
    --shadow-glow: 0 0 20px hsl(145 80% 50% / 0.3);
  }

  .dark {
    --background: 230 25% 12%;
    --foreground: 60 100% 95%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'VT323', monospace;
    image-rendering: pixelated;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Press Start 2P', cursive;
  }
}

@layer components {
  /* Pixel button base */
  .pixel-btn {
    @apply relative inline-flex items-center justify-center px-6 py-3 text-sm uppercase tracking-wider transition-all duration-100;
    font-family: 'Press Start 2P', cursive;
    background: var(--gradient-button);
    color: hsl(var(--primary-foreground));
    box-shadow: var(--shadow-pixel);
    border: 4px solid hsl(145 80% 35%);
  }

  .pixel-btn:hover {
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px hsl(230 25% 5%);
  }

  .pixel-btn:active {
    transform: translate(4px, 4px);
    box-shadow: none;
  }

  .pixel-btn-secondary {
    background: var(--gradient-button-secondary);
    border-color: hsl(200 90% 45%);
  }

  .pixel-btn-accent {
    background: linear-gradient(180deg, hsl(var(--accent)) 0%, hsl(45 100% 45%) 100%);
    border-color: hsl(45 100% 40%);
  }

  /* Pixel card/box */
  .pixel-box {
    @apply relative p-4;
    background: hsl(var(--card));
    border: 4px solid hsl(var(--border));
    box-shadow: var(--shadow-pixel);
  }

  /* Dialogue box RPG style */
  .dialogue-box {
    @apply relative p-6;
    background: linear-gradient(180deg, hsl(230 20% 20%) 0%, hsl(230 25% 15%) 100%);
    border: 6px solid hsl(var(--foreground));
    box-shadow: var(--shadow-pixel-lg), inset 0 0 0 2px hsl(230 20% 25%);
  }

  /* Progress bar pixel style */
  .pixel-progress {
    @apply h-6 overflow-hidden;
    background: hsl(var(--muted));
    border: 3px solid hsl(var(--border));
    box-shadow: inset 2px 2px 0px hsl(230 25% 8%);
  }

  .pixel-progress-fill {
    @apply h-full transition-all duration-500;
    background: repeating-linear-gradient(
      90deg,
      hsl(var(--primary)) 0px,
      hsl(var(--primary)) 8px,
      hsl(145 80% 40%) 8px,
      hsl(145 80% 40%) 16px
    );
  }

  /* Level card */
  .level-card {
    @apply relative p-4 cursor-pointer transition-transform duration-200;
    background: hsl(var(--card));
    border: 4px solid hsl(var(--border));
    box-shadow: var(--shadow-pixel);
  }

  .level-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-pixel-lg);
  }

  .level-card.locked {
    @apply opacity-60 cursor-not-allowed;
    filter: grayscale(0.5);
  }

  .level-card.locked:hover {
    transform: none;
    box-shadow: var(--shadow-pixel);
  }

  .level-card.completed {
    border-color: hsl(var(--primary));
    box-shadow: var(--shadow-pixel), var(--shadow-glow);
  }

  /* Character card */
  .character-card {
    @apply relative p-4 text-center;
    background: hsl(var(--card));
    border: 4px solid hsl(var(--border));
    box-shadow: var(--shadow-pixel);
  }

  /* Typewriter cursor */
  .typewriter-cursor {
    @apply inline-block w-3 h-5 ml-1;
    background: hsl(var(--foreground));
    animation: blink 0.8s infinite;
  }

  /* Badge */
  .pixel-badge {
    @apply inline-flex items-center px-3 py-1 text-xs uppercase;
    font-family: 'Press Start 2P', cursive;
    background: linear-gradient(180deg, hsl(var(--pixel-yellow)) 0%, hsl(45 100% 45%) 100%);
    color: hsl(230 25% 10%);
    border: 2px solid hsl(45 100% 35%);
    box-shadow: var(--shadow-pixel-sm);
  }

  /* Screen container with CRT effect */
  .game-screen {
    @apply relative min-h-screen overflow-hidden;
    background: var(--gradient-game);
  }

  .game-screen::before {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      hsl(0 0% 0% / 0.03) 2px,
      hsl(0 0% 0% / 0.03) 4px
    );
    z-index: 100;
  }

  /* Star particles */
  .stars {
    @apply absolute inset-0 overflow-hidden pointer-events-none;
  }

  .star {
    @apply absolute w-1 h-1 rounded-full;
    background: hsl(var(--foreground));
    animation: twinkle 2s infinite;
  }
}

@layer utilities {
  .font-pixel {
    font-family: 'Press Start 2P', cursive;
  }

  .font-game {
    font-family: 'VT323', monospace;
  }

  .text-shadow-pixel {
    text-shadow: 2px 2px 0px hsl(230 25% 5%);
  }

  .text-glow {
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
  }
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

@keyframes twinkle {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

@keyframes bounce-pixel {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: var(--shadow-pixel), 0 0 10px hsl(var(--primary) / 0.3); }
  50% { box-shadow: var(--shadow-pixel), 0 0 25px hsl(var(--primary) / 0.6); }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-bounce-pixel {
  animation: bounce-pixel 1s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}
